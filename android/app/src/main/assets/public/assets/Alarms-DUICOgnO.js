import{R as e}from"./ReactWrapper-z-iY-dVg.js";import{u as t,a as s,j as a}from"./UserContext-mo8_XTKz.js";import{r,z as l,f as i,u as c,o as n}from"./vendor-CBBAIpTX.js";import{e as d,C as o,D as x,a as m,T as p}from"./ui-Bs04w-Y-.js";import{_ as g,p as b}from"./main-LE54y1pd.js";import"./capacitor-3Yedw1XA.js";import"./database-ES7LaSYZ.js";const h=()=>{t();const[e,l]=r.useState([]),[i,c]=r.useState(!0),[n,g]=r.useState(!1),[b,h]=r.useState({symbol:"",type:"price-above",value:0,description:""}),u=s();r.useEffect(()=>{y()},[]);const y=async()=>{try{const e=[{id:"1",symbol:"AAPL",type:"price-above",value:150,isActive:!0,createdAt:new Date(Date.now()-864e5).toISOString(),description:"Apple stock above $150"},{id:"2",symbol:"TSLA",type:"price-below",value:200,isActive:!0,createdAt:new Date(Date.now()-432e5).toISOString(),description:"Tesla stock below $200"},{id:"3",symbol:"BTC",type:"percentage-change",value:5,isActive:!1,createdAt:new Date(Date.now()-216e5).toISOString(),triggeredAt:new Date(Date.now()-72e5).toISOString(),description:"Bitcoin 5% change"}];l(e)}catch(e){}finally{c(!1)}},v=e=>{switch(e){case"price-above":return a.jsx(p,{className:"w-4 h-4 text-green-400"});case"price-below":return a.jsx(m,{className:"w-4 h-4 text-red-400"});case"percentage-change":return a.jsx(x,{className:"w-4 h-4 text-yellow-400"});default:return a.jsx(d,{className:"w-4 h-4 text-gray-400"})}},j=e=>{switch(e){case"price-above":return"Price Above";case"price-below":return"Price Below";case"percentage-change":return"% Change";default:return"Unknown"}},w=e=>{switch(e){case"price-above":return"bg-green-500/20 text-green-400";case"price-below":return"bg-red-500/20 text-red-400";case"percentage-change":return"bg-yellow-500/20 text-yellow-400";default:return"bg-gray-500/20 text-gray-400"}};return i?a.jsx("div",{className:"px-4 pt-4 pb-24 min-h-screen bg-gradient-to-br from-dark-900 via-dark-800 to-dark-900 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-400",children:"Loading alarms..."})]})}):a.jsxs("div",{className:"px-4 pt-4 pb-24 min-h-screen bg-gradient-to-br from-dark-900 via-dark-800 to-dark-900",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-primary-300 drop-shadow-glow",children:"Price Alarms"}),a.jsx("button",{onClick:()=>g(!0),className:"bg-primary-500 hover:bg-primary-600 text-white rounded-full px-4 py-2 shadow-holographic transition-all duration-200 active:scale-95",children:"+ New Alarm"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-dark-800/70 rounded-xl p-4 shadow-glass backdrop-blur-xs border border-dark-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-gray-400 text-sm",children:"Active Alarms"}),a.jsx(d,{className:"w-5 h-5 text-primary-400"})]}),a.jsx("span",{className:"text-lg font-bold text-white",children:e.filter(e=>e.isActive).length})]}),a.jsxs("div",{className:"bg-dark-800/70 rounded-xl p-4 shadow-glass backdrop-blur-xs border border-dark-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-gray-400 text-sm",children:"Triggered Today"}),a.jsx(o,{className:"w-5 h-5 text-yellow-400"})]}),a.jsx("span",{className:"text-lg font-bold text-white",children:e.filter(e=>e.triggeredAt&&new Date(e.triggeredAt).toDateString()===(new Date).toDateString()).length})]})]}),a.jsx("div",{className:"space-y-4",children:0===e.length?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(d,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:"No Price Alarms"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first price alarm to get notified of important price movements"}),a.jsx("button",{onClick:()=>g(!0),className:"bg-primary-500 hover:bg-primary-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Create Alarm"})]}):e.map(e=>a.jsxs("div",{className:"bg-dark-800/70 rounded-xl p-4 shadow-glass backdrop-blur-xs border "+(e.isActive?"border-primary-500/50":"border-dark-700"),children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center "+(e.isActive?"bg-primary-500/20":"bg-gray-500/20"),children:v(e.type)}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-white",children:e.symbol}),a.jsx("p",{className:"text-gray-400 text-sm",children:e.description||j(e.type)})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${w(e.type)}`,children:j(e.type)}),a.jsx("button",{onClick:()=>{return t=e.id,void l(e=>e.map(e=>e.id===t?{...e,isActive:!e.isActive}:e));var t},className:"w-8 h-8 rounded-lg flex items-center justify-center transition-colors "+(e.isActive?"bg-green-500/20 text-green-400 hover:bg-green-500/30":"bg-gray-500/20 text-gray-400 hover:bg-gray-500/30"),children:a.jsx(d,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[a.jsx("span",{className:"text-gray-400",children:"Target:"}),a.jsx("span",{className:"text-white font-medium",children:"percentage-change"===e.type?`${e.value}%`:`$${e.value}`})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[a.jsx("span",{className:"text-gray-400",children:"Created:"}),a.jsx("span",{className:"text-gray-300",children:new Date(e.createdAt).toLocaleDateString()})]})]}),e.triggeredAt&&a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-xs text-yellow-400",children:"Triggered"}),a.jsx("div",{className:"text-xs text-gray-400",children:new Date(e.triggeredAt).toLocaleDateString()})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:()=>u(`/watchlist?symbol=${e.symbol}`),className:"text-primary-400 hover:text-primary-300 text-sm transition-colors",children:"View Chart"}),a.jsx("button",{onClick:()=>{return t=e.id,void l(e=>e.filter(e=>e.id!==t));var t},className:"text-red-400 hover:text-red-300 text-sm transition-colors",children:"Delete"})]})]},e.id))}),n&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 w-full max-w-md shadow-glass backdrop-blur-xs border border-dark-700",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Create Price Alarm"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Symbol"}),a.jsx("input",{type:"text",value:b.symbol,onChange:e=>h(t=>({...t,symbol:e.target.value})),className:"w-full px-3 py-2 bg-dark-700 border border-dark-600 rounded-lg text-white",placeholder:"e.g., AAPL, BTC"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Alarm Type"}),a.jsxs("select",{value:b.type,onChange:e=>h(t=>({...t,type:e.target.value})),className:"w-full px-3 py-2 bg-dark-700 border border-dark-600 rounded-lg text-white",children:[a.jsx("option",{value:"price-above",children:"Price Above"}),a.jsx("option",{value:"price-below",children:"Price Below"}),a.jsx("option",{value:"percentage-change",children:"Percentage Change"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"percentage-change"===b.type?"Percentage (%)":"Price ($)"}),a.jsx("input",{type:"number",value:b.value,onChange:e=>h(t=>({...t,value:Number(e.target.value)})),className:"w-full px-3 py-2 bg-dark-700 border border-dark-600 rounded-lg text-white",placeholder:"percentage-change"===b.type?"5":"150.00",step:"percentage-change"===b.type?"0.1":"0.01"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description (Optional)"}),a.jsx("input",{type:"text",value:b.description,onChange:e=>h(t=>({...t,description:e.target.value})),className:"w-full px-3 py-2 bg-dark-700 border border-dark-600 rounded-lg text-white",placeholder:"e.g., Apple stock above $150"})]})]}),a.jsxs("div",{className:"flex space-x-3 mt-6",children:[a.jsx("button",{onClick:()=>g(!1),className:"flex-1 bg-dark-700 hover:bg-dark-600 text-white py-2 rounded-lg transition-colors",children:"Cancel"}),a.jsx("button",{onClick:()=>{if(!b.symbol.trim()||b.value<=0)return void alert("Please enter a valid symbol and value");const e={id:Date.now().toString(),symbol:b.symbol.toUpperCase(),type:b.type,value:b.value,isActive:!0,createdAt:(new Date).toISOString(),description:b.description};l(t=>[e,...t]),h({symbol:"",type:"price-above",value:0,description:""}),g(!1)},className:"flex-1 bg-primary-500 hover:bg-primary-600 text-white py-2 rounded-lg transition-colors",children:"Create Alarm"})]})]})})]})},u={class:"alarms-view"},y=g({__name:"Alarms",setup:t=>(b.value="alarms",(t,s)=>(n(),l("div",u,[i(e,{component:c(h)},null,8,["component"])])))},[["__scopeId","data-v-764cb5ef"]]);export{y as default};

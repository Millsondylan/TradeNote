import{x as e,y as s,z as l,f as t,C as a,E as o,u as n,B as r,G as d,F as u,H as c,J as i,K as p,S as b,P as m,o as y,T as g,D as v}from"./vendor-CBBAIpTX.js";import{B as h,bw as f,bx as k,by as x,bz as P,b9 as T,bA as C,bB as F,bC as S,bD as w,bE as j,aB as I,bF as L,bG as B,aD as E,aJ as O,bH as A,bI as Q}from"./main-LE54y1pd.js";import{_}from"./SpinnerLoadingPage-SCQtX8pf.js";import"./capacitor-3Yedw1XA.js";import"./ui-Bs04w-Y-.js";const D={class:"txt-small"},V=r("a",{href:"https://tradenote.co/brokers.html",target:"_blank"},"Brokers Page",-1),W={key:0},z=r("a",{href:"/settings"},"settings",-1),G={class:"form-floating"},H=["value","selected"],J=r("label",{for:"floatingSelect"},"Select your broker or trading platform",-1),M={class:"mt-2"},U=["value"],K={key:0,class:"mt-4"},R={class:"form-check form-switch"},q=r("label",null,"Add MFE prices automatically",-1),N={class:"mt-3"},X={key:0,class:"input-group mb-3"},Y={key:1},Z={class:"form-floating"},$=r("label",{for:"tradesInputText"},"Paste your data",-1),ee={key:2},se={key:0},le={key:0},te={class:"ml-2 mt-2 text-blue"},ae={class:"table"},oe=r("thead",null,[r("tr",null,[r("th",{scope:"col"},"Symbol"),r("th",{scope:"col"},"Vol"),r("th",{scope:"col"},"P/L gross"),r("th",{scope:"col"},"Comm"),r("th",{scope:"col"},"Tot Fees"),r("th",{scope:"col"},"P/L net"),r("th",{scope:"col"},"Wins(g)"),r("th",{scope:"col"},"Loss(g)"),r("th",{scope:"col"},"Trades"),r("th",{scope:"col"},"Executions")])],-1),ne={key:0,class:"sumRow"},re=r("td",null,"Total",-1),de=r("button",{type:"cancel",onclick:"location.href = 'dashboard';",class:"btn btn-outline-secondary btn-sm me-2"},"Cancel",-1),ue={__name:"AddTrades",setup:ue=>(h.value=!1,e(async()=>{}),s(async()=>{await f()}),(e,s)=>(y(),l(u,null,[t(_),a(" "+o(n(T).value)+" ",1),r("p",D,[a("See export instructions for your broker on "),V,a(". "),n(T).hasOwnProperty("apis")&&n(T).apis.length>0&&-1!=n(T).apis.findIndex(e=>"polygon"===e.provider||"databento"===e.provider)?d("",!0):(y(),l("span",W,[a("To add MFE prices automatically, insert your API key in "),z,a(".")]))]),r("div",G,[r("select",{onInput:s[0]||(s[0]=e=>{return s=e.target.value,localStorage.setItem("selectedBroker",s),void(P.value=s);var s}),class:"form-select"},[(y(!0),l(u,null,c(n(C),e=>(y(),l("option",{value:e.value,selected:e.value==n(P)},o(e.label),9,H))),256))],32),J]),i(r("p",M,[a(" Supported asset types: "),(y(!0),l(u,null,c(n(C).filter(e=>e.value==n(P))[0].assetTypes,(e,s)=>(y(),l("span",null,[a(o(e),1),i(r("span",null,", ",512),[[p,n(C).filter(e=>e.value==n(P))[0].assetTypes.length>1&&s+1<n(C).filter(e=>e.value==n(P))[0].assetTypes.length]])]))),256))],512),[[p,n(P)]]),i(r("p",null,[a(" Commisssion Plan: "),r("span",null,[(y(!0),l(u,null,c(n(S),e=>(y(),l("div",{class:"form-check form-check-inline",key:e.value},[i(r("input",{class:"form-check-input",type:"radio",value:e.value,"onUpdate:modelValue":s[1]||(s[1]=e=>m(F)?F.value=e:null)},null,8,U),[[g,n(F)]]),a(" "+o(e.label),1)]))),128))])],512),[[p,"tradovate"==n(P)]]),n(T).hasOwnProperty("apis")&&n(T).apis.findIndex(e=>"polygon"===e.provider||"databento"===e.provider)>-1?(y(),l("div",K,[r("div",R,[q,i(r("input",{class:"form-check-input",type:"checkbox",role:"switch","onUpdate:modelValue":s[2]||(s[2]=e=>m(k)?k.value=e:null),onClick:s[3]||(s[3]=e=>k.value=!n(k))},null,512),[[b,n(k)]])])])):d("",!0),r("div",N,["tradeStation"!=n(P)?(y(),l("div",X,[r("input",{id:"tradesInput",type:"file",onChange:s[4]||(s[4]=e=>n(w)(e,"file"))},null,32)])):(y(),l("div",Y,[r("div",Z,[r("textarea",{class:"form-control",style:{height:"100px"},onChange:s[5]||(s[5]=e=>x.value=e.target.value)},null,32),$]),r("button",{type:"button",onClick:s[6]||(s[6]=e=>n(w)("","text")),class:"btn btn-success mt-3 mb-3"},"Load")])),0!=n(j).length?(y(),l("div",ee,[a(" Following dates are already imported: "),(y(!0),l(u,null,c(n(j),(e,s)=>(y(),l("span",null,[s>0?(y(),l("span",se,", ")):d("",!0),a(o(n(I)(e)),1)]))),256))])):d("",!0),Object.keys(n(L)).length>0&&Object.keys(n(B)).length>0?(y(!0),l(u,{key:3},c(n(A),(e,s)=>(y(),l("div",null,[n(L)[s]?(y(),l("div",le,[r("h3",te,o(n(E)(s)),1),r("table",ae,[oe,r("tbody",null,[(y(!0),l(u,null,c(n(L)[s],e=>(y(),l("tr",null,[r("td",null,o(e.symbol),1),r("td",null,o(n(O)(e.buyQuantity,e.sellQuantity)),1),r("td",{class:v([e.grossProceeds>0?"greenTrade":"redTrade"])},o(e.grossProceeds.toFixed(2)),3),r("td",null,o(e.commission.toFixed(2)),1),r("td",null,o(e.fees.toFixed(2)),1),r("td",{class:v([e.netProceeds>0?"greenTrade":"redTrade"])},o(e.netProceeds.toFixed(2)),3),r("td",null,o(e.grossWinsCount),1),r("td",null,o(e.grossLossCount),1),r("td",null,o(e.trades),1),r("td",null,o(e.executions),1)]))),256)),null!=s?(y(),l("tr",ne,[re,r("td",null,o(n(O)(n(B)[s].buyQuantity,n(B)[s].sellQuantity)),1),r("td",{class:v([n(B)[s].grossProceeds>0?"greenTrade":"redTrade"])},o(n(B)[s].grossProceeds.toFixed(2)),3),r("td",null,o(n(B)[s].commission.toFixed(2)),1),r("td",null,o(n(B)[s].fees.toFixed(2)),1),r("td",{class:v([n(B)[s].netProceeds>0?"greenTrade":"redTrade"])},o(n(B)[s].netProceeds.toFixed(2)),3),r("td",null,o(n(B)[s].grossWinsCount),1),r("td",null,o(n(B)[s].grossLossCount),1),r("td",null,o(n(B)[s].trades),1),r("td",null,o(n(B)[s].executions),1)])):d("",!0)])])])):d("",!0)]))),256)):d("",!0)]),r("div",null,[i(r("button",{type:"button",onClick:s[7]||(s[7]=(...e)=>n(Q)&&n(Q)(...e)),class:"btn btn-success btn-lg me-3"},"Submit",512),[[p,Object.keys(n(A)).length>0&&!n(h)]]),de])],64)))};export{ue as default};

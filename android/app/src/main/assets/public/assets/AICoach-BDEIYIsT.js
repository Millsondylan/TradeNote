import{R as e}from"./ReactWrapper-z-iY-dVg.js";import{u as s,a,j as t}from"./UserContext-mo8_XTKz.js";import{r,z as i,f as n,u as l,o}from"./vendor-CBBAIpTX.js";import{l as d}from"./localDatabase-DxKw6VaK.js";import{L as c,f as m,g as x,M as h,T as p,A as g,h as y}from"./ui-Bs04w-Y-.js";import{_ as b,p as u}from"./main-LE54y1pd.js";import"./capacitor-3Yedw1XA.js";import"./database-ES7LaSYZ.js";const j=()=>{s();const[e,i]=r.useState([]),[n,l]=r.useState([]),[o,b]=r.useState([]),[u,j]=r.useState(""),[w,N]=r.useState(!1),[f,v]=r.useState(!1),k=a();r.useEffect(()=>{S()},[]);const S=async()=>{try{await d.initialize();const e=await d.getTrades();i(e),A(e)}catch(e){}},A=async e=>{v(!0);try{const s=[{id:"1",type:"analysis",title:"Portfolio Performance Analysis",content:`Your portfolio shows a ${e.length>0?"positive":"neutral"} trend. ${e.length} trades analyzed with focus on risk management.`,timestamp:(new Date).toISOString(),priority:"medium"},{id:"2",type:"recommendation",title:"Risk Management Suggestion",content:"Consider implementing tighter stop-losses on your swing trades to protect against market volatility.",timestamp:(new Date).toISOString(),priority:"high"},{id:"3",type:"tip",title:"Trading Psychology Tip",content:"Your recent trades show good discipline. Remember to stick to your trading plan and avoid emotional decisions.",timestamp:(new Date).toISOString(),priority:"low"}];l(s)}catch(s){}finally{v(!1)}},I=async()=>{if(u.trim()){N(!0);try{const e="Based on your trading history, here's my analysis: "+(u.includes("risk")?"Focus on position sizing and stop-losses.":"Consider market conditions and your trading strategy."),s={id:Date.now().toString(),question:u,answer:e,timestamp:(new Date).toISOString()};b(e=>[s,...e]),j("")}catch(e){}finally{N(!1)}}},C=e=>{switch(e){case"analysis":return t.jsx(p,{className:"w-5 h-5 text-primary-400"});case"recommendation":return t.jsx(y,{className:"w-5 h-5 text-yellow-400"});case"warning":return t.jsx(g,{className:"w-5 h-5 text-red-400"});case"tip":return t.jsx(m,{className:"w-5 h-5 text-green-400"});default:return t.jsx(m,{className:"w-5 h-5 text-primary-400"})}},D=e=>{switch(e){case"high":return"border-red-500/50 bg-red-500/10";case"medium":return"border-yellow-500/50 bg-yellow-500/10";case"low":return"border-green-500/50 bg-green-500/10";default:return"border-primary-500/50 bg-primary-500/10"}};return t.jsxs("div",{className:"px-4 pt-4 pb-24 min-h-screen bg-gradient-to-br from-dark-900 via-dark-800 to-dark-900",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h1",{className:"text-2xl font-bold text-primary-300 drop-shadow-glow",children:"AI Coach"}),t.jsx("button",{onClick:()=>A(e),disabled:f,className:"bg-primary-500 hover:bg-primary-600 text-white rounded-full px-4 py-2 shadow-holographic transition-all duration-200 active:scale-95 disabled:opacity-50",children:f?t.jsx(c,{className:"w-4 h-4 animate-spin"}):t.jsx(m,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[t.jsxs("div",{className:"bg-dark-800/70 rounded-xl p-4 shadow-glass backdrop-blur-xs border border-dark-700",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-gray-400 text-sm",children:"Total Trades"}),t.jsx("span",{className:"text-lg font-bold text-white",children:e.length})]}),t.jsx("div",{className:"text-xs text-gray-400",children:"Analyzed by AI"})]}),t.jsxs("div",{className:"bg-dark-800/70 rounded-xl p-4 shadow-glass backdrop-blur-xs border border-dark-700",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-gray-400 text-sm",children:"AI Insights"}),t.jsx("span",{className:"text-lg font-bold text-primary-400",children:n.length})]}),t.jsx("div",{className:"text-xs text-gray-400",children:"Active recommendations"})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"AI Insights"}),t.jsx("div",{className:"space-y-4",children:0===n.length?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(m,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),t.jsx("p",{className:"text-gray-400",children:"No insights yet. Generate insights to get started."})]}):n.map(e=>t.jsx("div",{className:`bg-dark-800/70 rounded-xl p-4 shadow-glass backdrop-blur-xs border ${D(e.priority)}`,children:t.jsxs("div",{className:"flex items-start space-x-3",children:[C(e.type),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-white mb-1",children:e.title}),t.jsx("p",{className:"text-gray-300 text-sm mb-2",children:e.content}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-gray-400",children:new Date(e.timestamp).toLocaleDateString()}),t.jsxs("span",{className:"text-xs px-2 py-1 rounded-full "+("high"===e.priority?"bg-red-500/20 text-red-400":"medium"===e.priority?"bg-yellow-500/20 text-yellow-400":"bg-green-500/20 text-green-400"),children:[e.priority," priority"]})]})]})]})},e.id))})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Ask AI Coach"}),t.jsxs("div",{className:"flex space-x-2 mb-4",children:[t.jsx("input",{type:"text",value:u,onChange:e=>j(e.target.value),onKeyPress:e=>"Enter"===e.key&&I(),placeholder:"Ask about your trading strategy, risk management, or market analysis...",className:"flex-1 px-4 py-3 bg-dark-700 border border-dark-600 rounded-lg text-white placeholder-gray-400 focus:border-primary-500 focus:ring-1 focus:ring-primary-500 transition-colors",disabled:w}),t.jsx("button",{onClick:I,disabled:w||!u.trim(),className:"bg-primary-500 hover:bg-primary-600 text-white px-4 py-3 rounded-lg transition-colors disabled:opacity-50",children:w?t.jsx(c,{className:"w-5 h-5 animate-spin"}):t.jsx(x,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:0===o.length?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(h,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),t.jsx("p",{className:"text-gray-400",children:"Start a conversation with your AI coach"})]}):o.map(e=>t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"flex justify-end",children:t.jsx("div",{className:"bg-primary-500/20 border border-primary-500/50 rounded-lg p-3 max-w-xs",children:t.jsx("p",{className:"text-white text-sm",children:e.question})})}),t.jsx("div",{className:"flex justify-start",children:t.jsx("div",{className:"bg-dark-700 border border-dark-600 rounded-lg p-3 max-w-xs",children:t.jsx("p",{className:"text-gray-300 text-sm",children:e.answer})})})]},e.id))})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Quick Actions"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("button",{onClick:()=>k("/add-trade"),className:"bg-dark-800/70 rounded-xl p-4 shadow-glass backdrop-blur-xs border border-dark-700 hover:border-primary-500/50 transition-colors",children:[t.jsx(p,{className:"w-6 h-6 text-primary-400 mx-auto mb-2"}),t.jsx("span",{className:"text-white text-sm",children:"Add Trade"})]}),t.jsxs("button",{onClick:()=>k("/history"),className:"bg-dark-800/70 rounded-xl p-4 shadow-glass backdrop-blur-xs border border-dark-700 hover:border-primary-500/50 transition-colors",children:[t.jsx(m,{className:"w-6 h-6 text-primary-400 mx-auto mb-2"}),t.jsx("span",{className:"text-white text-sm",children:"View History"})]})]})]})]})},w={class:"ai-coach-view"},N=b({__name:"AICoach",setup:s=>(u.value="ai-coach",(s,a)=>(o(),i("div",w,[n(e,{component:l(j)},null,8,["component"])])))},[["__scopeId","data-v-30fed264"]]);export{N as default};

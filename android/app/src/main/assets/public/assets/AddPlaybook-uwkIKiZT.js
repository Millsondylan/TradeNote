import{x as a,z as t,f as e,B as s,J as n,K as o,u as l,F as i,o as r}from"./vendor-CBBAIpTX.js";import{_ as d}from"./SpinnerLoadingPage-SCQtX8pf.js";import{M as u,N as c,O as b,Q as m,R as y,S as p,T as v,U as x,bJ as f,ay as w,B as k,bK as P,bL as S,bR as Y,bS as g,P as j,aB as O,bT as U,bU as D}from"./main-LE54y1pd.js";import"./capacitor-3Yedw1XA.js";import"./ui-Bs04w-Y-.js";const M={class:"row mt-2"},h={class:"mt-3 input-group mb-3"},q=["readonly","value"],I=s("h5",null,"Playbook",-1),J=s("div",{class:"mt-2"},[s("div",{id:"quillEditorPlaybook"})],-1),T={class:"mt-3"},z=["disabled"],B=s("div",{class:"mt-3"},[s("button",{type:"cancel",onclick:"location.href = '/playbook';",class:"btn btn-outline-secondary btn-sm"},"Cancel")],-1),H={__name:"AddPlaybook",setup(H){u.extend(c),u.extend(b),u.extend(m),u.extend(y),u.extend(p),u.extend(v),u.extend(x);let L={};function N(a){Y.dateUnix=u.tz(a,w.value).unix(),Y.date=u(1e3*Y.dateUnix).format("YYYY-MM-DD"),Y.dateDateFormat=new Date(Y.date)}return f.value=u().tz(w.value).format("YYYY-MM-DD HH:mm"),a(async()=>{await(k.value=!0),await P("Playbook"),await async function(a){if(!a)return;g.value=a;const t=j.Object.extend("playbooks"),e=new j.Query(t);e.equalTo("objectId",a);const s=await e.first();s?(L=JSON.parse(JSON.stringify(s)),document.querySelector("#quillEditorPlaybook .ql-editor").innerHTML=L.playbook):alert("Query did not return any results")}(S.value),await sessionStorage.removeItem("editItemId"),N(f),await(k.value=!1)}),(a,u)=>(r(),t(i,null,[e(d),s("div",M,[n(s("div",null,[s("div",h,[s("input",{type:"date",class:"form-control",readonly:l(L).hasOwnProperty("dateUnix"),value:l(L).hasOwnProperty("dateUnix")?l(Y).date=l(O)(l(L).dateUnix):l(Y).hasOwnProperty("date")?l(Y).date:"",onInput:u[0]||(u[0]=a=>N(a.target.value))},null,40,q)]),I,J,s("div",T,[s("button",{disabled:!l(U),type:"button",onClick:u[1]||(u[1]=a=>l(D)()),class:"btn btn-success btn-lg"},"Submit",8,z)]),B],512),[[o,!l(k)]])])],64))}};export{H as default};
